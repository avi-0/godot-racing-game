[gd_scene load_steps=10 format=3 uid="uid://b5kxpk7e7n6ri"]

[ext_resource type="Script" uid="uid://dwmxm5gl3jjr3" path="res://scripts/Car.cs" id="1_jxqfv"]
[ext_resource type="PackedScene" uid="uid://b77pygol30lhj" path="res://assets/carkit/hatchback-sports.glb" id="2_eauv3"]
[ext_resource type="AudioStream" uid="uid://ek2xywx065l" path="res://assets/carsfx.wav" id="3_mk5fm"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_k61xc"]
friction = 0.1
bounce = 0.5

[sub_resource type="Curve" id="Curve_eauv3"]
_limits = [0.0, 2.0, 0.0, 1.0]
_data = [Vector2(0, 0.49605608), 0.0, 0.23025756, 0, 0, Vector2(1, 2), 2.2959864, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_mk5fm"]
_limits = [0.0, 60.0, 0.0, 1.0]
_data = [Vector2(0, 30), 0.0, -59.0962, 0, 0, Vector2(1, 9), 0.34576532, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_03w70"]
_data = [Vector2(0, 0.50438213), 0.0, 1.4216261, 0, 0, Vector2(0.5046083, 1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="Curve" id="Curve_50v30"]
_limits = [1.0, 5.0, 0.0, 1.0]
_data = [Vector2(0, 5), 0.0, -11.476284, 0, 0, Vector2(0.27181208, 1.9232769), -4.818681, -4.818681, 0, 0, Vector2(1, 1), -0.23527792, 0.0, 0, 0]
point_count = 3

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_50v30"]
points = PackedVector3Array(0.65, 0.24996085, 1.274912, 0.6206049, 0.24996085, 1.3454925, 0.65, 0.049936377, 1.274912, 0.65, 0.42571458, 1.1105963, 0.6206049, 0.049936377, 1.3454925, 0.5499804, 0.44998533, 1.3248485, 0.5499804, 0.24996085, 1.3747848, 0.12496084, 0, 1.4247211, 0.65, 0.049936377, -0.48513603, 0.65, 0.48773983, 1.0299727, 0.5499804, 0.049936377, 1.3747848, -0.55010766, 0.44998533, 1.3248485, 0.12496084, 0.1749168, 1.4247211, 0.65, 0.52670324, 0.93567955, 0.44996083, 0.949907, 0.19779277, 0.17497063, 0.12498043, 1.4247211, -0.1250881, 0, 1.4247211, 0.12496084, 0, 1.3747848, 0.17497063, 0.049936377, 1.4247211, 0.39995098, 0.049936377, -1.0852095, 0.6206049, 0.1499951, -1.3457714, 0.65, 0.1499951, -1.275191, -0.65, 0.52670324, 0.93567955, -0.65, 0.48773983, 1.0299727, -0.65, 0.42571458, 1.1105963, -0.6207322, 0.24996085, 1.3454925, -0.55010766, 0.24996085, 1.3747848, -0.1250881, 0.1749168, 1.4247211, -0.45008808, 0.949907, 0.19779277, 0.65, 0.6499168, 0.59784186, 0.44996083, 0.949907, -0.90778196, -0.17509788, 0.049936377, 1.4247211, -0.55010766, 0.049936377, 1.3747848, -0.6207322, 0.049936377, 1.3454925, -0.65, 0.049936377, 1.274912, -0.1250881, 0, 1.3747848, -0.4000783, 0.049936377, -1.0852095, 0.12496084, 0.09996574, -1.4250001, 0.5499804, 0.1499951, -1.3750637, 0.6206049, 0.24996085, -1.3457714, 0.65, 0.24996085, -1.275191, -0.65, 0.6499168, 0.59784186, -0.65, 0.24996085, 1.274912, -0.17509788, 0.12498043, 1.4247211, -0.45008808, 0.949907, -0.90778196, 0.65, 0.6499168, 0.49768996, 0.65, 0.539908, -0.7850333, 0.65, 0.52670324, -0.886022, 0.5499804, 0.6499168, -1.275191, -0.65, 0.049936377, -0.48513603, -0.6207322, 0.1499951, -1.3457714, -0.1250881, 0.09996574, -1.4250001, 0.17497063, 0.1499951, -1.4250001, 0.5499804, 0.24996085, -1.3750637, 0.65, 0.42571458, -1.0609387, -0.65, 0.6499168, 0.49768996, -0.65, 0.52670324, -0.886022, -0.65, 0.539908, -0.7850333, -0.55010766, 0.6499168, -1.275191, 0.65, 0.48773983, -0.98003626, 0.12496084, 0.27497554, -1.4250001, -0.65, 0.1499951, -1.275191, -0.6207322, 0.24996085, -1.3457714, -0.55010766, 0.1499951, -1.3750637, -0.17509788, 0.1499951, -1.4250001, 0.17497063, 0.22494617, -1.4250001, -0.65, 0.48773983, -0.98003626, -0.1250881, 0.27497554, -1.4250001, -0.55010766, 0.24996085, -1.3750637, -0.65, 0.24996085, -1.275191, -0.65, 0.42571458, -1.0609387, -0.17509788, 0.22494617, -1.4250001)

[node name="car" type="VehicleBody3D" node_paths=PackedStringArray("WheelFl", "WheelFr", "WheelBl", "WheelBr", "Camera", "CameraStick", "CameraStickBase", "EngineSound")]
collision_layer = 2
mass = 32.0
physics_material_override = SubResource("PhysicsMaterial_k61xc")
center_of_mass_mode = 1
continuous_cd = true
linear_damp_mode = 1
linear_damp = 0.05
angular_damp_mode = 1
angular_damp = 0.25
script = ExtResource("1_jxqfv")
WheelFl = NodePath("wheel_fl")
WheelFr = NodePath("wheel_fr")
WheelBl = NodePath("wheel_bl")
WheelBr = NodePath("wheel_br")
Camera = NodePath("CameraStickBase/CameraStick/Camera3D")
CameraStick = NodePath("CameraStickBase/CameraStick")
CameraStickBase = NodePath("CameraStickBase")
EngineSound = NodePath("EngineSound")
SpeedToPitchCurve = SubResource("Curve_eauv3")
SpeedToSteeringCurve = SubResource("Curve_mk5fm")
SkidToFrictionCurve = SubResource("Curve_03w70")
SpeedToEngineMultCurve = SubResource("Curve_50v30")
EngineForceForward = 72.0
BrakeForce = 0.5
NormalSlip = 2.0
NormalRwSlip = 1.95
SteeringSpeed = 200.0
BrakeFwSlipMultiplier = 0.2
BrakeRwSlipMultiplier = 0.2
BrakeForceInTurnMultiplier = 1.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 0, 0.120000005, -0.020000001)
shape = SubResource("ConvexPolygonShape3D_50v30")

[node name="wheel_bl" type="VehicleWheel3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.415, 0.24174961, -0.64836186)
use_as_traction = true
wheel_roll_influence = 1.0
wheel_radius = 0.24
wheel_rest_length = 0.08
wheel_friction_slip = 1.0
suspension_travel = 0.16
suspension_stiffness = 50.0
suspension_max_force = 400000.0
damping_compression = 2.4
damping_relaxation = 4.0

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="wheel_bl"]
transform = Transform3D(0.6, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -0.08, 0, 0)
remote_path = NodePath("../../hatchback-sports/wheel-back-left")

[node name="wheel_br" type="VehicleWheel3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.415, 0.24174961, -0.64836186)
use_as_traction = true
wheel_roll_influence = 1.0
wheel_radius = 0.24
wheel_rest_length = 0.08
wheel_friction_slip = 1.0
suspension_travel = 0.16
suspension_stiffness = 50.0
suspension_max_force = 400000.0
damping_compression = 2.4
damping_relaxation = 4.0

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="wheel_br"]
transform = Transform3D(0.6, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 0.08, 0, 0)
remote_path = NodePath("../../hatchback-sports/wheel-back-right")

[node name="wheel_fl" type="VehicleWheel3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.415, 0.24174961, 0.648)
use_as_steering = true
wheel_roll_influence = 1.0
wheel_radius = 0.24
wheel_rest_length = 0.08
wheel_friction_slip = 1.0
suspension_travel = 0.16
suspension_stiffness = 80.0
suspension_max_force = 400000.0
damping_compression = 2.4
damping_relaxation = 4.0

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="wheel_fl"]
transform = Transform3D(0.6, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -0.08, 0, 0)
remote_path = NodePath("../../hatchback-sports/wheel-front-left")

[node name="wheel_fr" type="VehicleWheel3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.415, 0.24174961, 0.648)
use_as_steering = true
wheel_roll_influence = 1.0
wheel_radius = 0.24
wheel_rest_length = 0.08
wheel_friction_slip = 1.0
suspension_travel = 0.16
suspension_stiffness = 80.0
suspension_max_force = 400000.0
damping_compression = 2.4
damping_relaxation = 4.0

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="wheel_fr"]
transform = Transform3D(0.6, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 0.08, 0, 0)
remote_path = NodePath("../../hatchback-sports/wheel-front-right")

[node name="hatchback-sports" parent="." instance=ExtResource("2_eauv3")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, 0, 0, 0)

[node name="wheel-front-left" parent="hatchback-sports" index="0"]
transform = Transform3D(0.75, 0, 0, 0, 1, 0, 0, 0, 1, 0.41875, 0.30218703, 0.81)

[node name="wheel-back-right" parent="hatchback-sports" index="1"]
transform = Transform3D(0.75, 0, 0, 0, 1, 0, 0, 0, 1, -0.41875, 0.30218703, -0.81045234)

[node name="wheel-back-left" parent="hatchback-sports" index="2"]
transform = Transform3D(0.75, 0, 0, 0, 1, 0, 0, 0, 1, 0.41875, 0.30218703, -0.81045234)

[node name="wheel-front-right" parent="hatchback-sports" index="3"]
transform = Transform3D(0.75, 0, 0, 0, 1, 0, 0, 0, 1, -0.41875, 0.30218703, 0.81)

[node name="CameraMover" type="RemoteTransform3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.77636e-15, 0, 0)
remote_path = NodePath("../CameraStickBase")
update_rotation = false
update_scale = false

[node name="CameraStickBase" type="Marker3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.77636e-15, 0, 0)
top_level = true

[node name="CameraStick" type="Node3D" parent="CameraStickBase"]
unique_name_in_owner = true
transform = Transform3D(-1, 4.371139e-08, -7.5710346e-08, 0, 0.8660254, 0.5, 8.742278e-08, 0.5, -0.8660254, -1.77636e-15, 0, 0)

[node name="Camera3D" type="Camera3D" parent="CameraStickBase/CameraStick"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.77636e-15, 0, 3.68151)
doppler_tracking = 2
current = true
fov = 80.0

[node name="EngineSound" type="AudioStreamPlayer3D" parent="."]
unique_name_in_owner = true
stream = ExtResource("3_mk5fm")
autoplay = true
bus = &"enginesounds"
attenuation_filter_cutoff_hz = 20500.0
doppler_tracking = 2

[editable path="hatchback-sports"]
