[gd_scene load_steps=29 format=3 uid="uid://quenom6jkxmi"]

[ext_resource type="Script" uid="uid://cm4hqh1ifpiuc" path="res://scripts/UiSoundPlayer.cs" id="1_kp23o"]
[ext_resource type="AudioStream" uid="uid://c18cw6opcwl8n" path="res://assets/audio/ui/click_001.ogg" id="2_5jirj"]
[ext_resource type="Script" uid="uid://bl5cpfcp361n1" path="res://scripts/UiSound.cs" id="3_5jirj"]
[ext_resource type="Script" uid="uid://cndyq0syaspg5" path="res://scripts/GameManager.cs" id="3_vaxfo"]
[ext_resource type="AudioStream" uid="uid://cbh2o7irh5lmy" path="res://assets/audio/ui/switch_004.ogg" id="4_3xj4h"]
[ext_resource type="AudioStream" uid="uid://c11gwvvxqgkr" path="res://assets/audio/ui/select_001.ogg" id="4_otnwt"]
[ext_resource type="AudioStream" uid="uid://b2kvcbs1acbcs" path="res://assets/audio/ui/toggle_002.ogg" id="5_3xj4h"]
[ext_resource type="Script" uid="uid://ctqoofbnioxhi" path="res://scripts/GameModeController.cs" id="5_otnwt"]
[ext_resource type="PackedScene" uid="uid://crc2q38d8anpl" path="res://scenes/cars/thedriftcar.tscn" id="8_3xj4h"]
[ext_resource type="PackedScene" uid="uid://c1rq5irkqaorb" path="res://scenes/editor/editor.tscn" id="8_uyinl"]
[ext_resource type="AudioStream" uid="uid://b0givguxksht0" path="res://assets/audio/music/StayInsideMe.mp3" id="9_3xj4h"]
[ext_resource type="PackedScene" uid="uid://c5ka32jnsmy0s" path="res://scenes/main_menu/main_menu.tscn" id="9_10c2w"]
[ext_resource type="PackedScene" uid="uid://bf1a3bcmnxdee" path="res://scenes/game/screen_layouts/split4.tscn" id="10_5v6r0"]
[ext_resource type="PackedScene" uid="uid://dj6oje4umktpq" path="res://scenes/main_menu/pause_menu.tscn" id="10_pg2xm"]
[ext_resource type="PackedScene" uid="uid://dd6xglhvi4pgh" path="res://scenes/game/screen_layouts/split2v.tscn" id="10_uyinl"]
[ext_resource type="PackedScene" uid="uid://ywlk133yau03" path="res://scenes/game/track_template.tscn" id="11_5v6r0"]
[ext_resource type="PackedScene" uid="uid://uyuauf375jpc" path="res://scenes/game/screen_layouts/split2h.tscn" id="11_10c2w"]
[ext_resource type="PackedScene" uid="uid://m1qpnrxiyo34" path="res://scenes/main_menu/settings_menu.tscn" id="11_gc57s"]
[ext_resource type="PackedScene" uid="uid://cl3hcvkocitf8" path="res://scenes/game/screen_layouts/single.tscn" id="12_3xj4h"]
[ext_resource type="PackedScene" uid="uid://b0jr1ye67yedr" path="res://scenes/game/screen_layouts/split3h.tscn" id="12_pg2xm"]
[ext_resource type="PackedScene" uid="uid://b5s34pkx4d4or" path="res://scenes/game/screen_layouts/split3v.tscn" id="13_gc57s"]
[ext_resource type="Script" uid="uid://bo73w7eogypft" path="res://scripts/InputManager.cs" id="18_8b66f"]

[sub_resource type="Resource" id="Resource_ftsea"]
script = ExtResource("3_5jirj")
AudioStream = ExtResource("2_5jirj")
PitchScale = 0.8
VolumeDb = -3.0
metadata/_custom_type_script = "uid://bl5cpfcp361n1"

[sub_resource type="Resource" id="Resource_vaxfo"]
script = ExtResource("3_5jirj")
AudioStream = ExtResource("2_5jirj")
VolumeDb = -3.0
metadata/_custom_type_script = "uid://bl5cpfcp361n1"

[sub_resource type="Resource" id="Resource_10c2w"]
script = ExtResource("3_5jirj")
AudioStream = ExtResource("4_3xj4h")
PitchScale = 1.122
metadata/_custom_type_script = "uid://bl5cpfcp361n1"

[sub_resource type="Resource" id="Resource_otnwt"]
script = ExtResource("3_5jirj")
AudioStream = ExtResource("4_3xj4h")
metadata/_custom_type_script = "uid://bl5cpfcp361n1"

[sub_resource type="Resource" id="Resource_5v6r0"]
script = ExtResource("3_5jirj")
AudioStream = ExtResource("4_otnwt")
metadata/_custom_type_script = "uid://bl5cpfcp361n1"

[sub_resource type="Resource" id="Resource_uyinl"]
script = ExtResource("3_5jirj")
AudioStream = ExtResource("5_3xj4h")
PitchScale = 0.6
VolumeDb = -6.0
metadata/_custom_type_script = "uid://bl5cpfcp361n1"

[node name="Game" type="Node"]

[node name="UISoundPlayer" type="Node" parent="." node_paths=PackedStringArray("Player")]
script = ExtResource("1_kp23o")
BlockErasedSound = SubResource("Resource_ftsea")
BlockPlacedSound = SubResource("Resource_vaxfo")
CheckpointCollectedSound = SubResource("Resource_10c2w")
LapFinishedSound = SubResource("Resource_otnwt")
Player = NodePath("AudioStreamPlayer")
RaceCountDownSound = SubResource("Resource_5v6r0")
RaceStartSound = SubResource("Resource_uyinl")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="UISoundPlayer"]

[node name="GameManager" type="Node" parent="." node_paths=PackedStringArray("MusicPlayer", "Track", "SettingsMenu", "PauseMenu", "MainMenu")]
script = ExtResource("3_vaxfo")
CarScene = ExtResource("8_3xj4h")
MusicPlayer = NodePath("MusicPlayer")
Track = NodePath("Track")
SettingsMenu = NodePath("../SettingsMenu")
PauseMenu = NodePath("../PauseMenu")
MainMenu = NodePath("../MainMenu")
SingleplayerScreenLayout = ExtResource("12_3xj4h")
SplitScreen2HLayout = ExtResource("11_10c2w")
SplitScreen2VLayout = ExtResource("10_uyinl")
SplitScreen3HLayout = ExtResource("12_pg2xm")
SplitScreen3VLayout = ExtResource("13_gc57s")
SplitScreen4Layout = ExtResource("10_5v6r0")

[node name="MusicPlayer" type="AudioStreamPlayer" parent="GameManager"]
stream = ExtResource("9_3xj4h")
bus = &"Music"
playback_type = 1
parameters/looping = false

[node name="GameMode" type="Node" parent="GameManager"]
script = ExtResource("5_otnwt")

[node name="Track" parent="GameManager" instance=ExtResource("11_5v6r0")]

[node name="InputManager" type="Node" parent="."]
script = ExtResource("18_8b66f")

[node name="Editor" parent="." instance=ExtResource("8_uyinl")]
visible = false

[node name="MainMenu" parent="." instance=ExtResource("9_10c2w")]

[node name="PauseMenu" parent="." instance=ExtResource("10_pg2xm")]

[node name="SettingsMenu" parent="." instance=ExtResource("11_gc57s")]
visible = false
